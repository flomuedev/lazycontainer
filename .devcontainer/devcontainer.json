{
  "name": "Data Science Environment",
  "build": {
    "dockerfile": "Dockerfile",
    "args": {
		"VARIANT": "4.2",
		"BUILDKIT_INLINE_CACHE": "0"
	}
  },

  // Install Dev Container Features. More info: https://containers.dev/features
  "features": {
    "ghcr.io/rocker-org/devcontainer-features/quarto-cli:1": {},
    "ghcr.io/rocker-org/devcontainer-features/r-rig:1": {
      "version": "none",
      "installJupyterlab": true,
	  "vscodeRSupport": "full",
	  "installDevTools": true,
	  "installRMarkdown": true,
	  "installRadian": true,
	  "installVscDebugger":true
    },
    "ghcr.io/rocker-org/devcontainer-features/apt-packages:1": {
        "packages": "libxtst6,libxt6"
    }
  },

  "customizations": {
    "vscode": {
      "extensions": [
        // Add Jupyter and Python vscode extensions
        "ms-toolsai.jupyter",
        "ms-toolsai.jupyter-renderers",
        "ms-python.python",
        "ms-python.vscode-pylance",
        "vsls-contrib.codetour",
        "GitHub.copilot",
		"reditorsupport.r"
      ]
    }
  },

  // Forward Jupyter and RStudio ports
  "forwardPorts": [8787, 8888],
  "portsAttributes": {
    "8787": {
      "label": "Rstudio",
      "requireLocalPort": true,
      "onAutoForward": "ignore"
    },
    "8888": {
      "label": "Jupyter",
      "requireLocalPort": true,
      "onAutoForward": "ignore"
    }
  },

  // Use 'postAttachCommand' to run commands after the container is started.
  "postAttachCommand": "sudo rstudio-server start"

  // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root
  // "remoteUser": "root"
}